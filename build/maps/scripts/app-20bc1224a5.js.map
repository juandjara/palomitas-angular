{"version":3,"sources":["scripts/app.js"],"names":["angular","module","navbar","NavbarController","moment","$http","searchOmdb","query","length","url","get","then","res","vm","searchRes","data","parseOmdb","obj","isObject","show","externals","imdb","name","this","search","$inject","directive","restrict","templateUrl","scope","controller","controllerAs","bindToController","ShowController","$stateParams","id","MainController","toastr","activate","api","showData","error","err","showToastr","info","creationDate","showlist","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","config","constant","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"CAAA,WACE,YAEAA,SACGC,OAAO,oBAAqB,YAAa,eAAgB,cAI9D,WACE,YAOA,SAASC,KAeP,QAASC,GAAiBC,EAAQC,GAOhC,QAASC,GAAWC,GAClB,GAAIA,KAASA,EAAMC,OAAS,GAA5B,CAGA,GAAIC,GAAM,4EAEV,OADAA,IAAO,mBAAmBF,EACnBF,EAAMK,IAAID,GAAKE,KAAK,SAASC,GAElC,MADAC,GAAGC,UAAYF,EAAIG,KACZH,EAAIG,QAIf,QAASC,GAAUC,GACjB,MAAIjB,SAAQkB,SAASD,IACjBA,EAAIE,MACJF,EAAIE,KAAKC,WACTH,EAAIE,KAAKC,UAAUC,KAGkBJ,EAAIE,KAAKG,KAFzC,KAvBX,GAAIT,GAAKU,IACTV,GAAGC,UACHD,EAAGW,OAAS,GACZX,EAAGP,WAAaA,EAChBO,EAAGG,UAAYA,EAnBjBb,EAAiBsB,SAAW,SAAU,QAAtC,IAAIC,IACFC,SAAU,IACVC,YAAa,oCACbC,SAGAC,WAAY3B,EACZ4B,aAAc,KACdC,kBAAkB,EAGpB,OAAON,GAjBT1B,QACGC,OAAO,oBACPyB,UAAU,SAAUxB,MAoDzB,WACE,YAOA,SAAS+B,GAAeC,GACtB,GAAIrB,GAAKU,IACTV,GAAGsB,GAAKD,EAAaC,GANvBF,EAAeR,SAAW,gBAD1BzB,QACGC,OAAO,oBACP6B,WAAW,iBAAkBG,MASlC,WACE,YAOA,SAASG,GAAeC,EAAQhC,GAa9B,QAASiC,KACPjC,EAAMK,IAAI6B,EAAI,0BACX5B,KAAK,SAASC,GACbC,EAAG2B,SAAW5B,EAAIG,KAClBF,EAAG4B,MAAQ,OAHfpC,SAKS,SAASqC,GACd7B,EAAG4B,MAAQC,IAIjB,QAASC,KACPN,EAAOO,KAAK,oHAxBd,GAAI/B,GAAKU,KACLgB,EAAM,8BAEV1B,GAAGgC,aAAe,cAClBhC,EAAG2B,SAAW,KACd3B,EAAG4B,MAAQ,KAEX5B,EAAG8B,WAAaA,EAChB9B,EAAGiC,SAAW,aAEdR,IAdFF,EAAeX,SAAW,SAAU,SAFpCzB,QACGC,OAAO,oBACP6B,WAAW,iBAAkBM,MAkClC,WACE,YAOA,SAASW,GAASC,GAEhBA,EAAKC,MAAM,gBAJbF,EAAStB,SAAW,QAHpBzB,QACGC,OAAO,oBACPiD,IAAIH,MAUT,WACE,YAOA,SAASI,GAAaC,EAAgBC,GACpCD,EACGE,MAAM,QACL7C,IAAK,IACLmB,YAAa,qBACbE,WAAY,iBACZC,aAAc,OAEfuB,MAAM,eACL7C,IAAI,YACJmB,YAAa,uBACbE,WAAY,iBACZC,aAAc,OAGlBsB,EAAmBE,UAAU,KAhB/BJ,EAAa1B,SAAW,iBAAkB,sBAJ1CzB,QACGC,OAAO,oBACPuD,OAAOL,MAwBZ,WACE,YAEAnD,SACGC,OAAO,oBACPwD,SAAS,SAAUrD,WAIxB,WACE,YAOA,SAASoD,GAAOE,EAAcC,GAE5BD,EAAaE,cAAa,GAG1BD,EAAaE,WAAY,EACzBF,EAAaG,QAAU,IACvBH,EAAaI,cAAgB,kBAC7BJ,EAAaK,mBAAoB,EACjCL,EAAaM,aAAc,EAT7BT,EAAO/B,SAAW,eAAgB,gBALlCzB,QACGC,OAAO,oBACPuD,OAAOA,MAiBZxD,QAAQC,OAAO,oBAAoBiD,KAAK,iBAAkB,SAASgB,GAAiBA,EAAeC,IAAI,qBAAqB,yjDAC5HD,EAAeC,IAAI,uBAAuB,4CAC1CD,EAAeC,IAAI,oCAAoC,2wBACvDD,EAAeC,IAAI,wCAAwC,+PAC3DD,EAAeC,IAAI,yCAAyC","file":"scripts/app-20bc1224a5.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2', ['ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .directive('navbar', navbar);\n\n  /** @ngInject */\n  function navbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          \n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment, $http) {\n      var vm = this;\n      vm.searchRes;\n      vm.search = \"\";\n      vm.searchOmdb = searchOmdb;\n      vm.parseOmdb = parseOmdb;\n      \n      function searchOmdb(query){\n        if(!query || query.length < 2){\n          return;\n        }\n        var url = \"https://anticorsproxy.herokuapp.com/https://tvmaze-https-tcwlcawmcs.now.sh\";\n        url += \"/search/shows?q=\"+query;\n        return $http.get(url).then(function(res){\n          vm.searchRes = res.data;\n          return res.data;\n        })\n      }\n      \n      function parseOmdb(obj){\n        if(!angular.isObject(obj) ||\n           !obj.show || \n           !obj.show.externals || \n           !obj.show.externals.imdb){\n          return null;\n        }\n        return /*obj.show.externals.imdb+\": \"+*/ obj.show.name;\n      }\n      \n    }\n  }\n\n})();\n\n(function(){\n  'use strict';\n  \n  angular\n    .module('palomitasClient2')\n    .controller('ShowController', ShowController);\n    \n  /** @ngInject */\n  function ShowController($stateParams){\n    var vm = this;\n    vm.id = $stateParams.id;\n  }\n  \n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(toastr, $http) {\n    var vm = this;\n    var api = \"https://api-fetch.website/tv\"\n\n    vm.creationDate = 1463518051145;\n    vm.showData = null;\n    vm.error = null;\n\n    vm.showToastr = showToastr;\n    vm.showlist = function(){};\n\n    activate();\n\n    function activate(){\n      $http.get(api+\"/shows/1?sort=trending\")\n        .then(function(res){\n          vm.showData = res.data;\n          vm.error = null;\n        })\n        .catch(function(err){\n          vm.error = err;\n        });\n    }\n\n    function showToastr() {\n      toastr.info('Fork <a href=\"https://github.com/Swiip/generator-gulp-angular\" target=\"_blank\"><b>generator-gulp-angular</b></a>');\n    }\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .state('show_detail', {\n        url:'/show/:id',\n        templateUrl: 'app/show/detail.html',\n        controller: 'ShowController',\n        controllerAs: 'vm'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"palomitasClient2\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<main><h1 class=\\\"text-center header-shadow\\\">Proyecto Palomitas</h1><h2 class=text-center>El poder de la red P2P en tu navegador</h2><div class=row><h3 class=\\\"col-sm-3 col-xs-6 p1em text-center\\\"><span class=\\\"header-icon glyphicon glyphicon-fire\\\"></span><br><span>Las utlimas novedades</span></h3><h3 class=\\\"col-sm-3 col-xs-6 p1em text-center\\\"><span class=\\\"header-icon glyphicon glyphicon-film\\\"></span><br><span>Todas las series en version original</span></h3><h3 class=\\\"col-sm-3 col-xs-6 p1em text-center\\\"><span class=\\\"header-icon glyphicon glyphicon-globe\\\"></span><br><span>Subtitulos en todos los idiomas</span></h3><h3 class=\\\"col-sm-3 col-xs-6 p1em text-center\\\"><span class=\\\"header-icon glyphicon glyphicon-cloud\\\"></span><br>Proyecto de codigo abierto. Haz <a href=http://github.com/juandjara/palomitas-angular>tus propias palomitas</a></h3></div><!-- Solo se muestra mientras se realiza la peticion inicial --><h1 style=\\\"color: lightgrey\\\" ng-hide=vm.showData>Loading...</h1><!-- Solo se muestra si la peticion inicial tuvo exito --><div class=row ng-show=vm.showData><h1 class=\\\"col-sm-12 header-shadow\\\">Las series más populares:</h1><div class=\\\"col-sm-12 shows\\\" ng-show=vm.showData><div class=show-card ng-repeat=\\\"show in vm.showData |limitTo: 15\\\" ng-cloak><div class=show-img><img ng-src={{show.images.poster}} alt={{show.title}}></div><div class=\\\"flex-center overlay\\\"><h3>{{show.title}}</h3></div></div></div></div><!-- Solo se muestra si la peticion inicial falló --><div style=\\\"text-align: left\\\" ng-show=vm.error><p>Error</p><pre>\\n      {{vm.error | json}}\\n    </pre></div></main>\");\n$templateCache.put(\"app/show/detail.html\",\"<h1>Show detail</h1><p>ID: {{vm.id}}</p>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\"><a class=navbar-brand href=#><img class=nav-logo alt=\\\"Logo de Palomitas\\\" src=assets/images/popcorn-icon.png> <span>Palomitas</span></a><div class=\\\"pull-right col-md-4 col-xs-12\\\" style=\\\"padding-top: 8px; padding-right: 5px\\\"><input type=text placeholder=\\\"¿Que quieres ver?\\\" class=\\\"col-xs-11 transparent\\\" ng-model=vm.search ng-model-options=\\\"{debounce: 300}\\\" typeahead-no-results=\\\"\\'No results\\'\\\" uib-typeahead=\\\"option as vm.parseOmdb(option) for option in vm.searchOmdb($viewValue)\\\" typeahead-template-url=app/components/navbar/searchItem.html typeahead-popup-template-url=app/components/navbar/searchPopup.html> <button title=Buscar class=\\\"btn btn-link\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span></button></div></nav>\");\n$templateCache.put(\"app/components/navbar/searchItem.html\",\"<a href tabindex=-1 ng-attr-title={{match.label}}><!-- ng-bind-html=\\\"match.label | uibTypeaheadHighlight:query\\\" --><div><img class=search-img ng-src={{match.model.show.image.medium}}> <span class=search-label>{{match.model.show.name}}</span></div></a>\");\n$templateCache.put(\"app/components/navbar/searchPopup.html\",\"<ul class=\\\"list-unstyled search-results\\\" ng-show=\\\"isOpen() && !moveInProgress\\\" ng-style=\\\"{top: position().top+\\'px\\',\\n               left: position().left+\\'px\\'}\\\" role=listbox aria-hidden={{!isOpen()}}><li ng-repeat=\\\"match in matches track by $index\\\" ng-class=\\\"{active: isActive($index) }\\\" ng-mouseenter=selectActive($index) ng-click=\\\"selectMatch($index, $event)\\\" role=option id={{::match.id}}><div uib-typeahead-match index=$index match=match query=query template-url=templateUrl></div></li></ul>\");}]);"],"sourceRoot":"/source/"}