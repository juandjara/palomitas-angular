{"version":3,"sources":["scripts/app.js"],"names":["angular","module","spinner","templateUrl","component","navbar","NavbarController","$http","search","query","length","url","get","then","res","vm","searchRes","data","parseSearch","obj","isObject","show","externals","imdb","name","this","searchText","$inject","controller","controllerAs","torrentSocket","socketFactory","socketUrl","socket","io","connect","ioSocket","factory","ShowController","$stateParams","$httpParamSerializer","$window","$document","$rootScope","$log","lodash","space","toJson","setEpisode","ep","selectedEpisode","showMagnet","videoUrl","subtitles","el","querySelector","element","scrollLeft","innerWidth","scrollBack","checkTorrentDownloaded","hash","torrents","filter","elem","infoHash","getVideoLink","onLinkPosted","onLinkReady","once","debug","torrentUrl","playerUrl","files","biggestFile","reduce","prev","next","loading","link","selectedTorrentIndex","postUrl","postData","post","loadSubtitles","episode","langs","api","imdbid","id","season","activate","showUrl","episodes","getEpisodes","selectedSeason","torrentsUrl","eps","grouped","_","groupBy","moreGrouped","Object","keys","map","index","sortedSeason","sortBy","number","selectedLang","MainController","toastr","showData","image","forEach","key","replace","error","err","creationDate","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","config","constant","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-adb556be78.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2', [\n      'ui.router', \n      'ui.bootstrap', \n      'toastr', \n      'ngLodash',\n      'duScroll',\n      'btford.socket-io'\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .component('spinner', spinner());\n\n  function spinner() {\n    return {\n      templateUrl: 'app/components/spinner/spinner.html'\n    }\n  } \n\n} ());\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .component('navbar', navbar());\n\n  /** @ngInject */\n  function navbar() {\n    var component = {\n      templateUrl: 'app/components/navbar/navbar.html',\n      controller: NavbarController,\n      controllerAs: 'vm'\n    };\n\n    return component;\n\n    /** @ngInject */\n    function NavbarController($http) {\n      var vm = this;\n      vm.searchRes;\n      vm.searchText = \"\";\n      vm.search = search;\n      vm.parseSearch = parseSearch;\n      \n      function search(query){\n        if(!query || query.length < 2){\n          return;\n        }\n        var url = \"https://tvapi.fuken.xyz\"\n        url += \"/search?query=\"+query;\n        return $http.get(url).then(function(res){\n          vm.searchRes = res.data;\n          return res.data;\n        })\n      }\n      \n      function parseSearch(obj){\n        if(!angular.isObject(obj) ||\n           !obj.show || \n           !obj.show.externals || \n           !obj.show.externals.imdb){\n          return null;\n        }\n        return /*obj.show.externals.imdb+\": \"+*/ obj.show.name;\n      }\n      \n    }\n  }\n\n})();\n\n/* globals io:false */\n(function() {\n'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .factory('torrentSocket', torrentSocket);\n\n  /* @ngInject  */\n  function torrentSocket(socketFactory) {\n    var socketUrl = \"https://palomitas-player.fuken.xyz:443\";\n    var socket = io.connect(socketUrl);\n\n    return socketFactory({\n      ioSocket: socket\n    });\n  }\n})();\n(function(){\n  'use strict';\n  \n  angular\n    .module('palomitasClient2')\n    .controller('ShowController', ShowController);\n    \n  /** @ngInject */\n  function ShowController($stateParams, $http, $httpParamSerializer, \n                          $window, $document, $rootScope, $log,\n                          lodash, torrentSocket){\n    var vm     = this;\n    var _      = lodash;\n    var socket = torrentSocket;\n    var playerUrl = \"https://palomitas-player.fuken.xyz\";      \n    \n    vm.id = $stateParams.id;\n    vm.show     = {};\n    vm.episodes = [];\n    vm.langs    = [];\n    vm.selectedSeason  = [];\n    vm.selectedEpisode = {};\n    vm.selectedLang    = \"\";\n    vm.selectedTorrentIndex = 0;\n    vm.torrents = [];\n    vm.showMagnet = false;\n    vm.loading    = false;\n\n    vm.space = space;\n    vm.setEpisode = setEpisode;    \n    vm.scrollBack = scrollBack;\n    vm.loadSubtitles = loadSubtitles;\n    vm.getVideoLink = getVideoLink;\n\n    activate();\n    \n    // PUBLIC METHODS\n    \n    function space(obj){\n      return angular.toJson(obj, true);\n    }\n    \n    function setEpisode(ep){\n      vm.selectedEpisode = ep;\n      vm.showMagnet = false;\n      vm.videoUrl   = \"\";\n      vm.subtitles  = [];\n\n      var el = $document[0].querySelector(\".episodes\");\n      angular.element(el).scrollLeft($window.innerWidth, 400);\n    }\n    \n    function scrollBack(){\n      var el = $document[0].querySelector(\".episodes\");\n      angular.element(el).scrollLeft(0, 400);\n    }\n    \n    function checkTorrentDownloaded(hash){\n      return vm.torrents.filter(function(elem){\n        return elem.infoHash === hash;\n      }).length > 0;\n    }\n\n    function getVideoLink(){\n      vm.loading  = true;\n      vm.videoUrl = \"\";\n      \n      var link = vm.selectedEpisode.torrents[vm.selectedTorrentIndex].url;\n      var postUrl  = playerUrl+\"/torrents\";\n      var postData = {link: link};\n\n      $http.post(postUrl, postData).then(function(res){\n        return res.data.infoHash;\n      }).then(onLinkPosted);\n\n      function onLinkPosted(hash){\n        if(checkTorrentDownloaded(hash)){\n          onLinkReady();          \n        }else{\n          socket.once('interested', onLinkReady);\n        }\n      }\n\n      function onLinkReady(hash){\n        $log.debug(\"ShowController: torrent link listo\");\n        var torrentUrl = playerUrl+\"/torrents/\"+hash+\"/\";\n        $http.get(torrentUrl).then(function(res){\n          var files = res.data.files;\n          var biggestFile = files.reduce(function(prev, next){\n            return prev.length > next.length ? prev : next;\n          });\n          vm.loading = false;\n          vm.videoUrl = playerUrl+biggestFile.link;\n        })\n      }\n    }\n\n    function loadSubtitles(episode){\n      vm.langs = $rootScope.langs;\n      var api = \"https://sub-down.fuken.xyz\";\n      var url = api+\"/search?\"+$httpParamSerializer({\n        imdbid: vm.id,\n        season: episode.season,\n        episode: episode.episode\n      });\n\n      vm.loading   = true;\n      vm.subtitles = [];\n      $http.get(url).then(function onSubtitles(res) {\n        vm.subtitles = res.data;\n        vm.loading = false;\n      })\n    }\n\n    // PRIVATE METHODS\n    \n    function activate(){\n      var api = \"https://api-fetch.website/tv/\";\n      var showUrl = api+\"/show/\"+vm.id;\n      $http.get(showUrl).then(function(res){\n        vm.show = res.data;\n        vm.episodes = getEpisodes(res.data);\n        vm.selectedSeason = vm.episodes[0].episodes;\n        vm.selectedEpisode = vm.selectedSeason[0];\n      });\n      \n      var torrentsUrl = playerUrl+\"/torrents\";\n      $http.get(torrentsUrl).then(function(res){\n        vm.torrents = res.data;\n      });\n      \n      socket.once('connect', function(){\n        $log.debug(\"ShowController: conectado a socket.io\");\n      });\n    }\n    \n    function getEpisodes(show){\n      var eps = show.episodes;\n      var grouped = _.groupBy(eps, 'season');\n      var moreGrouped = Object.keys(grouped).map(function(index){\n        var season = grouped[index];\n        var sortedSeason = _.sortBy(season, 'episode');\n        return { number: sortedSeason[0].season, episodes: sortedSeason };\n      });\n      return moreGrouped;\n    }\n    \n    \n    \n  }\n  \n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(toastr, $http, lodash) {\n    var vm = this;\n    var api = \"https://tvapi.fuken.xyz\"\n\n    vm.creationDate = 1463518051145;\n    vm.showData = null;\n    vm.error = null;\n\n    activate();\n\n    function activate(){\n      $http.get(api+\"/shows\")\n        .then(function(res){\n          vm.showData = res.data.map(function(show){\n            lodash.keys(show.image).forEach(function(key){\n               show.image[key] = show.image[key].replace(\"http\", \"https\");\n            });\n            return show;\n          });\n          vm.error = null;\n        })\n        .catch(function(err){\n          vm.error = err;\n        });\n    }\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $http, $rootScope) {\n    $log.debug('Palomitas V2');\n    var api = \"https://sub-down.fuken.xyz\";\n    var url = api+\"/weblangs.json\";\n    $http.get(url).then(function(res){\n      $rootScope.langs = res.data;\n    });\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .state('show_detail', {\n        url:'/show/:id',\n        templateUrl: 'app/show/show.detail.html',\n        controller: 'ShowController',\n        controllerAs: 'vm'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('palomitasClient2')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"palomitasClient2\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<main style=\\\"padding: 1.2em\\\"><h1 class=\\\"text-center header-shadow\\\">Proyecto Palomitas</h1><h2 class=text-center>El poder de la red P2P en tu navegador</h2><div class=row><h3 class=\\\"col-sm-3 col-xs-6 p1em text-center\\\"><span class=\\\"header-icon glyphicon glyphicon-fire\\\"></span><br><span>Las &uacute;tlimas novedades</span></h3><h3 class=\\\"col-sm-3 col-xs-6 p1em text-center\\\"><span class=\\\"header-icon glyphicon glyphicon-film\\\"></span><br><span>Todas las series en versi&oacute;n original</span></h3><h3 class=\\\"col-sm-3 col-xs-6 p1em text-center\\\"><span class=\\\"header-icon glyphicon glyphicon-globe\\\"></span><br><span>Subt&iacute;tulos en todos los idiomas</span></h3><h3 class=\\\"col-sm-3 col-xs-6 p1em text-center\\\"><span class=\\\"header-icon glyphicon glyphicon-cloud\\\"></span><br>Proyecto de c&oacute;digo abierto. Haz <a href=http://github.com/juandjara/palomitas-angular>tus propias palomitas</a></h3></div><!-- Solo se muestra mientras se realiza la peticion inicial --><h1 style=\\\"color: lightgrey\\\" ng-hide=vm.showData>Loading...</h1><!-- Solo se muestra si la peticion inicial tuvo exito --><div class=row ng-show=vm.showData><h1 class=\\\"col-sm-12 header-shadow\\\">Las series m&aacute;s populares:</h1><div class=\\\"col-sm-12 shows\\\" ng-show=vm.showData><div class=show-card ng-repeat=\\\"show in vm.showData |limitTo: 15\\\"><div class=show-img><img ng-src={{show.image.medium}} alt={{show.name}}></div><div class=overlay><div class=\\\"ribbon opensans\\\"><p>{{show.name}}</p><p class=badge style=\\\"font-size: smaller\\\">{{show.rating.average}} / 10</p><a ng-href=#/show/{{show.externals.imdb}} class=\\\"no-br btn btn-lg btn-success\\\">Detalles</a></div></div></div></div></div><!-- Solo se muestra si la peticion inicial falló --><div style=\\\"text-align: left\\\" ng-show=vm.error><p>Error</p><pre>\\n      {{vm.error | json}}\\n    </pre></div></main>\");\n$templateCache.put(\"app/show/show.detail.html\",\"<div class=show-details><div class=show-img><img ng-src={{vm.show.images.banner}} alt={{vm.show.title}}></div><div class=overlay><img class=\\\"poster hidden-xs\\\" ng-src={{vm.show.images.poster}} alt={{vm.show.title}}><header class=header><h1>{{vm.show.title}} <span class=badge>{{vm.show.rating.percentage / 10}} / 10</span></h1><h4><p>{{vm.show.year}} - {{vm.show.status}}</p><span ng-repeat=\\\"genre in vm.show.genres\\\">{{genre}} <span ng-hide=$last>,</span></span></h4><p style=\\\"font-weight: bolder\\\" class=opensans>{{vm.show.synopsis}}</p></header></div></div><div class=opensans style=\\\"margin-top: 1em; padding: 0 1em\\\"><h1 style=\\\"margin-top: 0; margin-bottom: .5em\\\">Episodios</h1><div class=episodes><div class=episode-selector><div class=\\\"season-list btn-group-vertical\\\"><button class=\\\"btn btn-primary\\\" ng-repeat=\\\"season in vm.episodes\\\" ng-click=\\\"vm.selectedSeason = season.episodes\\\">Temporada {{season.number}}</button></div><ul class=\\\"episode-list list-group\\\" style=\\\"margin-left: 1em\\\"><li class=list-group-item style=\\\"color: black\\\" ng-repeat=\\\"ep in vm.selectedSeason\\\"><a href ng-click=vm.setEpisode(ep)>{{ep.season}}x{{ep.episode}} - {{ep.title}}</a></li></ul></div><div class=episode><button class=\\\"visible-xs btn btn-primary\\\" style=\\\"margin-top: 1em\\\" ng-click=vm.scrollBack()><span class=\\\"glyphicon glyphicon-chevron-left\\\"></span> Atrás</button><h2 style=\\\"margin-top: 0.2em\\\">{{vm.selectedEpisode.title}}</h2><p style=\\\"color: grey\\\">Season {{vm.selectedEpisode.season}} Episode {{vm.selectedEpisode.episode}}</p><p>{{vm.selectedEpisode.overview}}</p><br><uib-tabset active=vm.selectedTorrentIndex><uib-tab ng-repeat=\\\"(type, torrent) in vm.selectedEpisode.torrents\\\" index=$index heading={{type}} ng-if=\\\"type != 0\\\"><div class=tab-inner><p>seeds: {{torrent.seeds}} | peers: {{torrent.peers}}</p><div ng-show=vm.showMagnet><p>Magnet link</p><pre class=pre-wrap>{{torrent.url}}</pre></div><div ng-show=vm.videoUrl><p>Video</p><pre class=pre-wrap>{{vm.videoUrl}}</pre></div></div></uib-tab></uib-tabset><spinner ng-show=vm.loading></spinner><p></p><h3>Instrucciones para el streaming</h3><ol><li>Obtener enlace de video desde esta pagina o desde el <a target=_blank href=https://palomitas-player.fuken.xyz>descargador</a></li><li>Obtener subtitulos desde esta pagina. Copiar enlace de subtitulos en formato VTT</li><li>Ir al <a target=_blank href=videojs/ >reproductor</a></li><li>Pegar los enlaces de subtitulos y video cada uno en su lugar (solo marcar el checkbox si el video ha sido convertido al formato HLS)</li><li>Pulsar el botón grande y verde y disfrutar del espect&aacute;lo.</li></ol><p><strong>Bonus: </strong>tambien puede usar el enlace de video para ver el video en un reproductor como <strong>VLC</strong> o <strong>MPV</strong> que soporte abrir enlaces de red</p><p></p><!--\\n      <button class=\\\"btn btn-success btn-block\\\">\\n        <span class=\\\"glyphicon glyphicon-play\\\"></span> Reproducir        \\n      </button>\\n      --><!--\\n      <button class=\\\"btn btn-success btn-block\\\">\\n        <span class=\\\"glyphicon glyphicon-cog\\\"></span> Convertir al formato HLS        \\n      </button>\\n      --> <button class=\\\"btn btn-primary btn-block\\\" ng-click=vm.loadSubtitles(vm.selectedEpisode)><span class=\\\"glyphicon glyphicon-globe\\\"></span> Buscar subtitulos</button> <button class=\\\"btn btn-primary btn-block\\\" ng-click=vm.getVideoLink()><span class=\\\"glyphicon glyphicon-link\\\"></span> Obtener enlace del video</button> <button class=\\\"btn btn-primary btn-block\\\" ng-click=\\\"vm.showMagnet = true;\\\"><span class=\\\"glyphicon glyphicon-magnet\\\"></span> Obtener enlace magnet</button><h3 ng-show=vm.subtitles>Subtitulos</h3><div ng-show=vm.subtitles style=\\\"margin: 1em 0; display: flex; align-items: center\\\"><label for=langs style=\\\"margin-right: 0.5em\\\">Idioma</label><select ng-model=vm.selectedLang class=form-control name=langs id=langs><option ng-value=lang.isoId ng-repeat=\\\"lang in vm.langs\\\">{{lang.name}}</option></select></div><ul class=\\\"list-group subs-list\\\" ng-show=vm.selectedLang><li class=list-group-item ng-repeat=\\\"sub in vm.subtitles[vm.selectedLang]\\\" style=\\\"display: flex; align-items: center\\\"><div style=\\\"flex: 0 1 65%\\\"><p class=pre-wrap>{{sub.subFilename}}</p>Descargar en <a class=pre-wrap ng-href={{sub.links.srt}}>srt</a> o <a class=pre-wrap ng-href={{sub.links.vtt}}>vtt</a></div><div style=\\\"flex: 1 0 35%; margin-left: 1em\\\"><p><span title=Formato class=\\\"glyphicon glyphicon-file\\\"></span> {{sub.encoding}}</p><p><span title=Descargas class=\\\"glyphicon glyphicon-download\\\"></span> {{sub.downloads.toLocaleString()}}</p><p><span title=\\\"Fecha de subida\\\" class=\\\"glyphicon glyphicon-calendar\\\"></span> {{sub.date.toLocaleString()}}</p></div></li></ul></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=nav-bar><section class=nav-logo><a href=#><img class=nav-icon alt=\\\"Logo de Palomitas\\\" src=assets/images/popcorn-icon.png> <span class=nav-label>Palomitas</span> </a><small class=nav-links><a target=_blank href=https://palomitas-player.fuken.xyz>Descargador</a> <a target=_blank href=videojs/ >Reproductor</a></small></section><section class=nav-search><input type=text placeholder=\\\"¿Que quieres ver?\\\" class=transparent ng-model=vm.searchText ng-model-options=\\\"{debounce: 300}\\\" typeahead-no-results=\\\"\\'No results\\'\\\" uib-typeahead=\\\"option as vm.parseSearch(option) for option in vm.search($viewValue)\\\" typeahead-template-url=app/components/navbar/searchItem.html typeahead-popup-template-url=app/components/navbar/searchPopup.html> <span class=\\\"glyphicon glyphicon-search inside-input\\\"></span></section></nav>\");\n$templateCache.put(\"app/components/navbar/searchItem.html\",\"<div ng-attr-title={{match.label}} class=search-item ng-cloak><img class=search-img ng-src=\\\"{{match.model.show.image.medium.replace(\\'http\\', \\'https\\')}}\\\"> <a ng-href=#/show/{{match.model.show.externals.imdb}} class=search-label>{{match.model.show.name}}</a></div>\");\n$templateCache.put(\"app/components/navbar/searchPopup.html\",\"<ul class=\\\"list-unstyled search-results\\\" ng-show=\\\"isOpen() && !moveInProgress\\\" ng-style=\\\"{top: position().top+\\'px\\',\\n               left: position().left+\\'px\\'}\\\" role=listbox aria-hidden={{!isOpen()}}><li ng-repeat=\\\"match in matches track by $index\\\" ng-class=\\\"{active: isActive($index) }\\\" ng-mouseenter=selectActive($index) ng-click=\\\"selectMatch($index, $event)\\\" role=option id={{::match.id}}><div uib-typeahead-match index=$index match=match query=query template-url=templateUrl></div></li></ul>\");\n$templateCache.put(\"app/components/spinner/spinner.html\",\"<div class=sk-fading-circle><div class=\\\"sk-circle1 sk-circle\\\"></div><div class=\\\"sk-circle2 sk-circle\\\"></div><div class=\\\"sk-circle3 sk-circle\\\"></div><div class=\\\"sk-circle4 sk-circle\\\"></div><div class=\\\"sk-circle5 sk-circle\\\"></div><div class=\\\"sk-circle6 sk-circle\\\"></div><div class=\\\"sk-circle7 sk-circle\\\"></div><div class=\\\"sk-circle8 sk-circle\\\"></div><div class=\\\"sk-circle9 sk-circle\\\"></div><div class=\\\"sk-circle10 sk-circle\\\"></div><div class=\\\"sk-circle11 sk-circle\\\"></div><div class=\\\"sk-circle12 sk-circle\\\"></div></div>\");}]);"],"sourceRoot":"/source/"}